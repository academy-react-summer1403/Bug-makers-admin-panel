(function(t,n){typeof exports==="object"&&typeof module!=="undefined"?n(exports,require("react")):typeof define==="function"&&define.amd?define(["exports","react"],n):(t=typeof globalThis!=="undefined"?globalThis:t||self,n((t.casl=t.casl||{},t.casl.react={}),t.React))})(this,(function(t,n){"use strict";function r(t,n){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,n||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}function i(t){var n=r(t,"string");return"symbol"==typeof n?n:String(n)}function e(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||false;e.configurable=true;if("value"in e)e.writable=true;Object.defineProperty(t,i(e.key),e)}}function u(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);Object.defineProperty(t,"prototype",{writable:false});return t}function o(){o=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i))t[i]=r[i]}return t};return o.apply(this,arguments)}function f(t,n){t.prototype=Object.create(n.prototype);t.prototype.constructor=t;c(t,n)}function c(t,n){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(n,r){n.__proto__=r;return n};return c(t,n)}var s=function t(){};var a=function(t){f(n,t);function n(){var n;for(var r=arguments.length,i=new Array(r),e=0;e<r;e++)i[e]=arguments[e];n=t.call.apply(t,[this].concat(i))||this;n.t=false;n.i=null;n.u=s;return n}var r=n.prototype;r.componentWillUnmount=function t(){this.u()};r.o=function _connectToAbility(t){var n=this;if(t===this.i)return;this.u();this.i=null;if(t){this.i=t;this.u=t.on("updated",(function(){return n.forceUpdate()}))}};r.l=function t(){var n=this.props;var r=n.of||n.a||n.an||n.this||n.on;var i=n.not?"cannot":"can";return n.ability[i](n.I||n.do,r,n.field)};r.render=function t(){this.o(this.props.ability);this.t=this.l();return this.props.passThrough||this.t?this.h():null};r.h=function t(){var n=this.props,r=n.children,i=n.ability;var e=typeof r==="function"?r(this.t,i):r;return e};u(n,[{key:"allowed",get:function t(){return this.t}}]);return n}(n.PureComponent);function l(t){var n;return n=function(t){f(n,t);function n(){return t.apply(this,arguments)||this}return n}(a),n.defaultProps={ability:t},n}function h(t){return function(r){return n.createElement(t,{children:function t(i){return n.createElement(a,o({ability:i},r))}})}}function useAbility(t){if(process.env.NODE_ENV!=="production"&&typeof n.useContext!=="function")throw new Error("You must use React >= 16.8 in order to use useAbility()");var r=n.useContext(t);var i=n.useState(),e=i[0],u=i[1];n.useEffect((function(){return r.on("updated",(function(t){if(t.rules!==e)u(t.rules)}))}),[]);return r}t.Can=a;t.createCanBoundTo=l;t.createContextualCan=h;t.useAbility=useAbility}));
//# sourceMappingURL=index.js.map
