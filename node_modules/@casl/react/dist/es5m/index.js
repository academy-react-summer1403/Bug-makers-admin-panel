import t,{PureComponent as r,createElement as n}from"react";function i(t,r){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function u(t){var r=i(t,"string");return"symbol"==typeof r?r:String(r)}function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,u(i.key),i)}}function o(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);Object.defineProperty(t,"prototype",{writable:false});return t}function f(){f=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))t[i]=n[i]}return t};return f.apply(this,arguments)}function c(t,r){t.prototype=Object.create(r.prototype);t.prototype.constructor=t;a(t,r)}function a(t,r){a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(r,n){r.__proto__=n;return r};return a(t,r)}var s=function t(){};var v=function(t){c(r,t);function r(){var r;for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];r=t.call.apply(t,[this].concat(i))||this;r.t=false;r.i=null;r.u=s;return r}var n=r.prototype;n.componentWillUnmount=function t(){this.u()};n.o=function _connectToAbility(t){var r=this;if(t===this.i)return;this.u();this.i=null;if(t){this.i=t;this.u=t.on("updated",(function(){return r.forceUpdate()}))}};n.v=function t(){var r=this.props;var n=r.of||r.a||r.an||r.this||r.on;var i=r.not?"cannot":"can";return r.ability[i](r.I||r.do,n,r.field)};n.render=function t(){this.o(this.props.ability);this.t=this.v();return this.props.passThrough||this.t?this.h():null};n.h=function t(){var r=this.props,n=r.children,i=r.ability;var u=typeof n==="function"?n(this.t,i):n;return u};o(r,[{key:"allowed",get:function t(){return this.t}}]);return r}(r);function h(t){var r;return r=function(t){c(r,t);function r(){return t.apply(this,arguments)||this}return r}(v),r.defaultProps={ability:t},r}function l(t){return function(r){return n(t,{children:function t(i){return n(v,f({ability:i},r))}})}}function useAbility(r){if(process.env.NODE_ENV!=="production"&&typeof t.useContext!=="function")throw new Error("You must use React >= 16.8 in order to use useAbility()");var n=t.useContext(r);var i=t.useState(),u=i[0],e=i[1];t.useEffect((function(){return n.on("updated",(function(t){if(t.rules!==u)e(t.rules)}))}),[]);return n}export{v as Can,h as createCanBoundTo,l as createContextualCan,useAbility};
//# sourceMappingURL=index.js.map
